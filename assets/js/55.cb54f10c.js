(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{637:function(t,s,a){"use strict";a.r(s);var n=a(14),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"计算机网络面试题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#计算机网络面试题"}},[t._v("#")]),t._v(" 计算机网络面试题")]),t._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#http1-1-2-0-3-0区别"}},[t._v("http1.1 /2.0/3.0区别")])]),a("li",[a("a",{attrs:{href:"#为什么说http是无状态的-怎么解决呢"}},[t._v("为什么说http是无状态的,怎么解决呢？")])]),a("li",[a("a",{attrs:{href:"#https-握手和加密过程-为什么https就能安全"}},[t._v("https 握手和加密过程，为什么https就能安全？")])]),a("li",[a("a",{attrs:{href:"#https服务器给客户端发送证书过程中给黑客篡改了怎么办"}},[t._v("https服务器给客户端发送证书过程中给黑客篡改了怎么办?")])]),a("li",[a("a",{attrs:{href:"#tcp和udp区别"}},[t._v("TCP和UDP区别？")])]),a("li",[a("a",{attrs:{href:"#tcp三次握手和四次挥手-为什么要三次和四次-多了或少了怎么样"}},[t._v("TCP三次握手和四次挥手，为什么要三次和四次？多了或少了怎么样？")])]),a("li",[a("a",{attrs:{href:"#get和post区别"}},[t._v("GET和POST区别？")])]),a("li",[a("a",{attrs:{href:"#tcp解决拥塞的方案"}},[t._v("TCP解决拥塞的方案")])]),a("li",[a("a",{attrs:{href:"#访问url到浏览器出现页面之间发生了什么"}},[t._v("访问url到浏览器出现页面之间发生了什么?")])]),a("li",[a("a",{attrs:{href:"#dns查询过程"}},[t._v("DNS查询过程")])]),a("li",[a("a",{attrs:{href:"#dns预查询"}},[t._v("DNS预查询")])]),a("li",[a("a",{attrs:{href:"#什么是cdn"}},[t._v("什么是CDN？")])]),a("li",[a("a",{attrs:{href:"#cdn的好处和工作原理"}},[t._v("CDN的好处和工作原理")])]),a("li",[a("a",{attrs:{href:"#http状态码有哪些-304代表什么-206呢"}},[t._v("http状态码有哪些？304代表什么？206呢？")])]),a("li",[a("a",{attrs:{href:"#强缓存和协商缓存"}},[t._v("强缓存和协商缓存")])]),a("li",[a("a",{attrs:{href:"#缓存策略是怎样的-缓存存放位置"}},[t._v("缓存策略是怎样的？缓存存放位置？")])]),a("li",[a("a",{attrs:{href:"#预加载和预渲染-预解析"}},[t._v("预加载和预渲染，预解析")])]),a("li",[a("a",{attrs:{href:"#懒加载和按需加载"}},[t._v("懒加载和按需加载")])]),a("li",[a("a",{attrs:{href:"#websocket理解-应用场景"}},[t._v("websocket理解，应用场景？")])])])]),a("p"),t._v(" "),a("h2",{attrs:{id:"http1-1-2-0-3-0区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http1-1-2-0-3-0区别"}},[t._v("#")]),t._v(" http1.1 /2.0/3.0区别")]),t._v(" "),a("blockquote",[a("p",[t._v("幂等和副作用")])]),t._v(" "),a("ul",[a("li",[t._v("副作用是指对服务器上的资源做改变，搜索是无副作用的，注册是有副作用的。")]),t._v(" "),a("li",[t._v("幂等是指对服务器发送1到N次请求，服务器上的资源一致，如搜索关键词。")])]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("HTTP版本")]),a("blockquote",[a("ol",[a("li",[t._v("HTTP 1.0  (1996年5月)")])])]),t._v(" "),a("ul",[a("li",[t._v("除了GET命令，还引入POST命令和HEAD命令")]),t._v(" "),a("li",[t._v("可以传输任何格式内容，包括文字、图片、视频、二进制。")]),t._v(" "),a("li",[t._v("因为http是无连接和无状态的，存在"),a("strong",[t._v("无法复用链接")]),t._v("和"),a("strong",[t._v("队头阻塞")]),t._v("问题。")])]),t._v(" "),a("blockquote",[a("ol",{attrs:{start:"2"}},[a("li",[t._v("HTTP 1.1 (1997年1月)")])])]),t._v(" "),a("ul",[a("li",[t._v("默认开启keep Alive(1.0就有，但是1.1默认开启)，也就是持久连接(persistent connection)")]),t._v(" "),a("li",[t._v("引入了"),a("strong",[t._v("管道机制")]),t._v("（ pipelining），即在同一个TCP连接里，客户端可以同时发送多个请求")]),t._v(" "),a("li",[t._v("增加"),a("strong",[t._v("缓存")]),t._v("处理（新的字段如cache-control，强缓存和协商缓存）")]),t._v(" "),a("li",[t._v("增加Host字段（使得一个服务器能够用来创建多个Web站点）、支持断点传输等")]),t._v(" "),a("li",[t._v("http协议不带有状态，每次请求都必须附上所有信息。请求的很多字段都是重复的，浪费带宽，影响速度)")]),t._v(" "),a("li",[t._v("1.1版本允许复用TCP连接，但是同一个TCP连接里面，所有的数据通信是按次序进行的。服务器只有处理完一个回应，才会进行下一个回应，可能会造成Head-of-line blocking(队头阻塞)的问题")])]),t._v(" "),a("blockquote",[a("ol",{attrs:{start:"3"}},[a("li",[t._v("HTTP 2.0 (2015年5月)")])])]),t._v(" "),a("ul",[a("li",[t._v('http/2是一个彻底的二进制协议，头信息和数据体都是二进制，并且统称为"帧"（frame）：头信息帧和数据帧。('),a("strong",[t._v("封装成帧")]),t._v(")")]),t._v(" "),a("li",[t._v("HTTP/2 允许服务器未经请求，主动向客户端发送资源，即服务器推送。("),a("strong",[t._v("服务器推送")]),t._v(")")]),t._v(" "),a("li",[t._v("引入头信息压缩机制（ header compression） ,头信息使用gzip或compress压缩后再发送。("),a("strong",[t._v("头部压缩")]),t._v(")")]),t._v(" "),a("li",[t._v("HTTP 1.x 并没有真正意义上的解决连接复用问题,连接共享意味着客户端与服务器之间也只需要一个连接即可，这样即使来自很多流的数据包也能够混合在一起通过同样连接传输，再根据不同帧首部的 stream id 标识符重新连接将不同的数据流进行组装("),a("strong",[t._v("多路复用")]),t._v("/链接共享)")])]),t._v(" "),a("blockquote",[a("ol",{attrs:{start:"4"}},[a("li",[t._v("HTTP 3.0")])])]),t._v(" "),a("ul",[a("li",[t._v("HTTP3.0不使用TCP协议，而是使用"),a("strong",[t._v("全新的QUIC协议")]),t._v("(也就是UDP)，这个协议能让你通过 UDP 创建一系列带状态的流，解决TCP队头阻塞问题。")])])]),a("h2",{attrs:{id:"为什么说http是无状态的-怎么解决呢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为什么说http是无状态的-怎么解决呢"}},[t._v("#")]),t._v(" 为什么说http是无状态的,怎么解决呢？")]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("无状态")]),a("p",[t._v("服务器处理完成后立即断开TCP连接（无连接），服务器不跟踪每个客户端也不记录过去的请求（无状态），服务器不会在两个请求之间保留任何数据（状态），比如比如在一个电商网站里，用户把某个商品加入到购物车，切换一个页面后再次添加了商品，这两次添加商品的请求之间没有关联，浏览器无法知道用户最终选择了哪些商品。")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("可以借助cookie来保存状态")])])]),a("h2",{attrs:{id:"https-握手和加密过程-为什么https就能安全"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#https-握手和加密过程-为什么https就能安全"}},[t._v("#")]),t._v(" https 握手和加密过程，为什么https就能安全？")]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("THEOREM")]),a("blockquote",[a("p",[t._v("非对称加密，对称加密，数字证书CA")])]),t._v(" "),a("ul",[a("li",[t._v("http是明文传输的，无法验证报文的完整性，无法验证双方的身份")]),t._v(" "),a("li",[t._v("HTTPS 是基于 HTTP 协议的，会使用 TLS/SSL 来对数据加密，所有的信息都是加密的，并且它提供了一种校验机制，信息一旦被篡改，通信的双方会立刻发现,它还配备了数字身份证书CA，防止身份被冒充的情况出现，第三方没有办法窃听")]),t._v(" "),a("li",[t._v("TCP三次握手后开始进行TLS握手\n"),a("ul",[a("li",[t._v("TLS第一次握手，客户端向服务器发起请求，请求中包含使用的协议版本号、生成的一个"),a("strong",[t._v("随机数")]),t._v("，以及客户端支持的加密方法")]),t._v(" "),a("li",[t._v("第二次，服务器端接收到请求后，确认双方使用的加密方法、并给出服务器的证书、以及一个服务器生成的随机数")]),t._v(" "),a("li",[t._v("第三步，客户端确认服务器证书有效后，生成一个新的随机数，并使用数字证书中的公钥，加密这个随机数，如果服务端需要验证客户端证书的话会附带证书然后发给服务器。并且还会提供一个前面所有内容的 hash 的值，用来供服务器检验。")]),t._v(" "),a("li",[t._v("第四步，服务器收到加密过的随机值使用自己的私钥，来解密客户端发送过来的随机数获得第三个随机数。并提供前面所有内容的 hash 值来供客户端检验。")]),t._v(" "),a("li",[t._v("第五步，这时候两端都拥有了三个随机值，可以通过这三个随机值按照之前约定的加密⽅式⽣成密钥，接下来的通信就可以通过该密钥来加密解密.客户端和服务器端根据约定的加密方法使用前面的三个随机数，生成对话秘钥，以后的对话过程都使用这个秘钥来加密信息。")])])])])]),a("h2",{attrs:{id:"https服务器给客户端发送证书过程中给黑客篡改了怎么办"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#https服务器给客户端发送证书过程中给黑客篡改了怎么办"}},[t._v("#")]),t._v(" https服务器给客户端发送证书过程中给黑客篡改了怎么办?")]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("THEOREM")]),a("p",[t._v("浏览器内置了各大CA机构的公钥信息，"),a("strong",[t._v("如果证书被篡改，浏览器就提示不可信，终止通信")]),t._v("。因为证书中包含数字签名，用于作防伪标识。")])]),a("h2",{attrs:{id:"tcp和udp区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcp和udp区别"}},[t._v("#")]),t._v(" TCP和UDP区别？")]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("THEOREM")]),a("ul",[a("li",[t._v("TCP是面向链接的，需要经过三次握手才能建立链接，而UDP是无连接的，不需要握手。")]),t._v(" "),a("li",[t._v("TCP是可靠的，UDP不可靠。TCP有拥塞控制，流量控制等一系列保证接受的报文是完整的，在网络差的情况下会限制速率，而UDP没有， UDP 报文段的发送速率没有限制。")]),t._v(" "),a("li",[t._v("UDP 可以支持一对一、一对多、多对一和多对多的交互通信。TCP全双工")]),t._v(" "),a("li",[t._v("高性能用UDP，高稳定用TCP。如视频会话，游戏等对延迟敏感的用UDP，对数据完整性如")]),t._v(" "),a("li",[t._v("TCP首部20个字节，UDP8个。")])])]),a("h2",{attrs:{id:"tcp三次握手和四次挥手-为什么要三次和四次-多了或少了怎么样"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcp三次握手和四次挥手-为什么要三次和四次-多了或少了怎么样"}},[t._v("#")]),t._v(" TCP三次握手和四次挥手，为什么要三次和四次？多了或少了怎么样？")]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("三次是防止旧的重复连接引起连接混乱问题")]),a("blockquote",[a("p",[t._v("三次握手的原因")])]),t._v(" "),a("ul",[a("li",[t._v("三次握手证明双方的通信都是能互相到达的，即时是过时的链接，也能正常过程")]),t._v(" "),a("li",[t._v("两次握手不能证明客户端能接受到服务端的消息，只能证明客户端能接受到服务端的消息\n"),a("ul",[a("li",[t._v("若客户端的"),a("strong",[t._v("连接请求超时")]),t._v("，并且放弃了连接，服务器应答但客户端已经放弃连接，白白浪费服务器资源。")])])])]),t._v(" "),a("blockquote",[a("p",[t._v("为什么不四次握手？")])]),t._v(" "),a("ul",[a("li",[t._v("三次握手就能解决为什么要四次握手？ 节省资源~")])])]),a("h2",{attrs:{id:"get和post区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get和post区别"}},[t._v("#")]),t._v(" GET和POST区别？")]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("THEOREM")]),a("p",[t._v("Post 和 Get 是 HTTP 请求的两种方法。")]),t._v(" "),a("p",[t._v("（1）从应用场景上来说，GET 请求是一个幂等的请求，一般 Get 请求用于对服务器资源不会产生影响的场景，比如说请求一个网 页。而 Post 不是一个幂等的请求，一般用于对服务器资源会产生影响的情景。比如注册用户这一类的操作。")]),t._v(" "),a("p",[t._v("（2）因为不同的应用场景，所以浏览器一般会对 Get 请求缓存，但很少对 Post 请求缓存。")]),t._v(" "),a("p",[t._v("（3）从发送的报文格式来说，Get 请求的报文中实体部分为空，Post 请求的报文中实体部分一般为向服务器发送的数据。")]),t._v(" "),a("p",[t._v("（4）但是 Get 请求也可以将请求的参数放入 url 中向服务器发送，这样的做法相对于 Post 请求来说，一个方面是不太安全， 因为请求的 url 会被保留在历史记录中。并且浏览器由于对 url 有一个长度上的限制，所以会影响 get 请求发送数据时 的长度。这个限制是浏览器规定的，并不是 RFC 规定的。还有就是 post 的参数传递支持更多的数据类型。")])]),a("h2",{attrs:{id:"tcp解决拥塞的方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tcp解决拥塞的方案"}},[t._v("#")]),t._v(" TCP解决拥塞的方案")]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("THEOREM")]),a("ol",[a("li",[t._v("慢开始")]),t._v(" "),a("li",[t._v("拥塞避免")]),t._v(" "),a("li",[t._v("快重传")]),t._v(" "),a("li",[t._v("快恢复")])])]),a("h2",{attrs:{id:"访问url到浏览器出现页面之间发生了什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#访问url到浏览器出现页面之间发生了什么"}},[t._v("#")]),t._v(" 访问url到浏览器出现页面之间发生了什么?")]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("THEOREM")]),a("ol",[a("li",[t._v("输入url，第一次访问无DNS缓存进行DNS查询根据域名获取IP地址")]),t._v(" "),a("li",[t._v("TCP三次握手建立链接 + TLS/SSL安全握手后请求服务器返回请求资源(浏览器会将请求资源拷贝一份做下次缓存文件)")]),t._v(" "),a("li",[t._v("浏览器解析资源处理HTML生成DOM树")]),t._v(" "),a("li",[t._v("处理CSS构建CSSOM树，如果遇到JS会中断DOM解析去下载JS并执行，可以给JS添加async/defer异步下载")]),t._v(" "),a("li",[t._v("DOM和CSSROM合并成Render Tree渲染树")]),t._v(" "),a("li",[t._v("浏览器根据Render Tree渲染树渲染页面")]),t._v(" "),a("li",[t._v("调用GPU绘制页面，合成图层显示在屏幕上")])])]),a("h2",{attrs:{id:"dns查询过程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dns查询过程"}},[t._v("#")]),t._v(" DNS查询过程")]),t._v(" "),a("blockquote",[a("p",[t._v("为了保证响应的及时，DNS解析使用的是UDP协议.为了节省时间，可以在HTML头部去做DNS的预解析")])]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("THEOREM")]),a("blockquote",[a("p",[t._v("比如查询 www.test.com这个域名，DNS的查询过程如下")])]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("浏览器")]),t._v("的DNS缓存；")]),t._v(" "),a("li",[t._v("操作系统的DNS缓存("),a("strong",[t._v("如hosts")]),t._v(");")]),t._v(" "),a("li",[a("strong",[t._v("路由器")]),t._v("的DNS缓存；")]),t._v(" "),a("li",[t._v("ISP(网络服务提供商)的"),a("strong",[t._v("LDNS服务器")]),t._v("查询")]),t._v(" "),a("li",[t._v("向全球13台"),a("strong",[t._v("根域名服务器")]),t._v("查询；\n"),a("ul",[a("li",[t._v("根服务器返回"),a("strong",[t._v("顶级")]),t._v("域名(TLD)服务器如"),a("code",[t._v(".com")]),t._v("，"),a("code",[t._v(".cn")]),t._v("，"),a("code",[t._v(".org")]),t._v("等的地址，该例子中会返回"),a("code",[t._v(".com")]),t._v("的地址")]),t._v(" "),a("li",[t._v("接着向顶级域名服务器发送请求，然后会返回"),a("strong",[t._v("次级")]),t._v("域名(SLD)服务器的地址，本例子会返回"),a("code",[t._v(".test")]),t._v("的地址")]),t._v(" "),a("li",[t._v("接着向次级域名服务器发送请求，然后会返回通过域名查询到的目标IP，本例子会返回"),a("code",[t._v("www.test.com")]),t._v("的地址")])])])])]),a("h2",{attrs:{id:"dns预查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dns预查询"}},[t._v("#")]),t._v(" DNS预查询")]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("prefetch预查询")]),a("div",{staticClass:"language-html line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br")]),a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("dns-prefetch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("https://google.com/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" \n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])]),a("h2",{attrs:{id:"什么是cdn"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是cdn"}},[t._v("#")]),t._v(" 什么是CDN？")]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("CDN(Content Delivery Network)内容分发网络")]),a("p",[t._v("是一个通过对源网站资源的缓存，利用本身多台位于不同地域、不同运营商的服务器，向用户提供资就近访问的 功能。也就是说，用户的请求并不是直接发送给源网站，而是发送给 CDN 服务器，由 CND 服务器将请求定位到最近的含有该资源 的服务器上去请求。这样有利于提高网站的访问速度，同时通过这种方式也减轻了源服务器的访问压力。")])]),a("h2",{attrs:{id:"cdn的好处和工作原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cdn的好处和工作原理"}},[t._v("#")]),t._v(" CDN的好处和工作原理")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("CDN的好处")]),t._v(" "),a("hr")]),t._v(" "),a("ul",[a("li",[t._v("就近访问，加快网页加载速度")]),t._v(" "),a("li",[t._v("负载均衡，减少源服务器压力")]),t._v(" "),a("li",[t._v("更加安全，有效防御DDOS等网络攻击")])]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("CDN工作原理")]),a("blockquote",[a("p",[t._v("使用CDN缓存资源后的访问过程：")])]),t._v(" "),a("ol",[a("li",[t._v("对于点击的数据的URL，经过本地DNS系统的解析，发现该URL对应的是一个CDN专用的DNS服务器，DNS系统就会将域名解析权交给CNAME指向的CDN专用的DNS服务器。")]),t._v(" "),a("li",[t._v("CND专用DNS服务器将CND的全局负载均衡设备IP地址返回给用户")]),t._v(" "),a("li",[t._v("用户向CDN的全局负载均衡设备发起数据请求")]),t._v(" "),a("li",[t._v("CDN的全局负载均衡设备根据用户的IP地址，以及用户请求的内容URL，选择一台用户所属区域的区域负载均衡设备，告诉用户向这台设备发起请求")]),t._v(" "),a("li",[t._v("区域负载均衡设备选择一台合适的缓存服务器来提供服务，将该缓存服务器的IP地址返回给全局负载均衡设备")]),t._v(" "),a("li",[t._v("全局负载均衡设备把服务器的IP地址返回给用户")]),t._v(" "),a("li",[t._v("用户向该缓存服务器发起请求，缓存服务器响应用户的请求，将用户所需内容发送至用户终端。")])]),t._v(" "),a("p",[t._v("如果缓存服务器没有用户想要的内容，那么缓存服务器就会向它的上一级缓存服务器请求内容，以此类推，直到获取到需要的资源。最后如果还是没有，就会回到自己的服务器去获取资源")])]),a("h2",{attrs:{id:"http状态码有哪些-304代表什么-206呢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http状态码有哪些-304代表什么-206呢"}},[t._v("#")]),t._v(" http状态码有哪些？304代表什么？206呢？")]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("THEOREM")]),a("ul",[a("li",[t._v("2XX\n"),a("ul",[a("li",[t._v("200 成功")]),t._v(" "),a("li",[t._v("206 部分成功，文件上传断点续传")])])]),t._v(" "),a("li",[t._v("3XX\n"),a("ul",[a("li",[t._v("301 永久重定向")]),t._v(" "),a("li",[t._v("302 临时重定向")]),t._v(" "),a("li",[t._v("304 协商缓存命中")])])]),t._v(" "),a("li",[t._v("4XX\n"),a("ul",[a("li",[t._v("403 没有权限，被服务器禁止访问")]),t._v(" "),a("li",[t._v("404 在服务器上找不到该资源")])])]),t._v(" "),a("li",[t._v("5XX\n"),a("ul",[a("li",[t._v("500 服务器端在执⾏请求时发⽣了错误")]),t._v(" "),a("li",[t._v("503 服务器暂时处于超负载或正在停机维护，⽆法处理请求")])])])])]),a("h2",{attrs:{id:"强缓存和协商缓存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#强缓存和协商缓存"}},[t._v("#")]),t._v(" 强缓存和协商缓存")]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("THEOREM")]),a("blockquote",[a("p",[t._v("强缓存是强制缓存的意思，只要不是nostore和nocache都会先走强缓存")])]),t._v(" "),a("ul",[a("li",[t._v("缓存优先级\n"),a("ul",[a("li",[t._v("强缓存 > 协商缓存")]),t._v(" "),a("li",[t._v("强缓存: Cache Control > Expire")]),t._v(" "),a("li",[t._v("协商缓存: ETag > Last Modyify")])])])])]),a("h2",{attrs:{id:"缓存策略是怎样的-缓存存放位置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#缓存策略是怎样的-缓存存放位置"}},[t._v("#")]),t._v(" 缓存策略是怎样的？缓存存放位置？")]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("浏览器缓存就是把一个已经请求过的web资源（如html页面，图片，JS，数据）拷贝一份放在浏览器中")]),a("blockquote",[a("p",[t._v("缓存策略")])]),t._v(" "),a("ul",[a("li",[t._v("首先通过"),a("strong",[t._v("Cache-Control验证强缓存是否可用")]),t._v(" "),a("ul",[a("li",[t._v("如果可用，则直接使用缓存(返回状态码200)")]),t._v(" "),a("li",[t._v("不可用，"),a("strong",[t._v("发送http请求进入协商缓存")]),t._v("，根据服务器返回的响应头，决定是否缓存")])])]),t._v(" "),a("li",[t._v("根据 "),a("strong",[t._v("If-None-Match")]),t._v("(ETag) 和 "),a("strong",[t._v("If-Modified-Since")]),t._v(" (Last Modify) 来判断是否可以使用协商缓存\n"),a("ul",[a("li",[t._v("资源有更新，返回状态码200和请求资源")]),t._v(" "),a("li",[t._v("资源无修改，"),a("strong",[t._v("返回状态码304，浏览器读取缓存")])])])]),t._v(" "),a("li",[t._v("强缓存是不需要发送HTTP请求的, 而协商缓存需要")])]),t._v(" "),a("blockquote",[a("p",[t._v("缓存位置")])]),t._v(" "),a("ul",[a("li",[t._v("SERVICE WORKER")]),t._v(" "),a("li",[t._v("MEMORY CACHE")]),t._v(" "),a("li",[t._v("DISK CHCHE")]),t._v(" "),a("li",[t._v("PUSH CACHE")]),t._v(" "),a("li",[t._v("发起请求")])])]),a("h2",{attrs:{id:"预加载和预渲染-预解析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#预加载和预渲染-预解析"}},[t._v("#")]),t._v(" 预加载和预渲染，预解析")]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("prefetch和preload的区别")]),a("ul",[a("li",[t._v("Preload 来告诉浏览器预先请求当前页需要的资源，从而提高这些资源的请求优先级")]),t._v(" "),a("li",[t._v("Prefetch 来告诉浏览器用户将来可能在其他页面（非本页面）可能使用到的资源，那么浏览器会在空闲时，就去预先加载这些资源放在 http 缓存内，最常见的 dns-prefetch")])]),t._v(" "),a("blockquote",[a("p",[t._v("DNS预解析")])]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("dns-prefetch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("https://google.com/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" \n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])]),a("h2",{attrs:{id:"懒加载和按需加载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#懒加载和按需加载"}},[t._v("#")]),t._v(" 懒加载和按需加载")]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("图片、长列表实现懒加载/延迟加载")]),a("ul",[a("li",[t._v("先加载可视区域内的内容，其他随着滚动的时候再陆续加载，提升网页性能的手段。")]),t._v(" "),a("li",[a("strong",[t._v("原理就是 用自定义属性 data-xxx存储图片真实地址，滚动时候再去替换src")])])]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- html --\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./images/1.jpg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("alt")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("图片1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./images/2.jpg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("alt")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("图片2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./images/3.jpg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("alt")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("图片3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./images/4.jpg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("alt")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("图片4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./images/5.jpg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("alt")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("图片5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./images/6.jpg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("alt")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("图片6"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./images/7.jpg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("alt")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("图片7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./images/8.jpg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("alt")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("图片8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./images/9.jpg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("alt")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("图片9"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./images/10.jpg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("alt")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("图片10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- js --\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" imgs "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelectorAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'img'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//获取所有img列表")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//offsetTop是元素与offsetParent的距离，循环获取直到页面顶部")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTop")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("T")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetTop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetParent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("T")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetTop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lazyLoad")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("imgs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("H")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientHeight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//获取可视区域高度")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("S")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollTop "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollTop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" imgs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("H")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("S")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTop")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("imgs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        imgs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" imgs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAttribute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data-src'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onload "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onscroll")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//onscroll()在滚动条滚动的时候触发")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lazyLoad")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("imgs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br")])])]),a("h2",{attrs:{id:"websocket理解-应用场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#websocket理解-应用场景"}},[t._v("#")]),t._v(" websocket理解，应用场景？")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("websocket应用场景")]),t._v(" "),a("ul",[a("li",[t._v("实时性强的")]),t._v(" "),a("li",[t._v("弹幕、视频聊天、股票情况实时更新")])])]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("WebSocket是一种网络传输协议，是HTML5出的东西，并不属于HTTP，用于解决HTTP的问题，但是随着HTTP不断升级，WS的优点都被吸收过去了，就像现在原生JS吸收了许多JQ的优点，没必要使用JQ了。")]),a("ul",[a("li",[t._v("ws同时支持服务器推送(http 2.0也有了)")]),t._v(" "),a("li",[t._v("可以发送文本，也可以发送二进制数据,http2.0和其类似，但具体实现有区别。")]),t._v(" "),a("li",[t._v("ws没有同源限制，客户端可以与任意服务器通信，ajax有跨域的限制。")]),t._v(" "),a("li",[t._v("ws是全双工通信，需要握手建立链接，ajax只能由客户端发起请求，服务端响应，ws可以由客户端发起请求，服务端响应，也可以由服务端发起请求，客户端响应。")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);