(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{636:function(t,s,a){"use strict";a.r(s);var e=a(14),r=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"浏览器面试题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#浏览器面试题"}},[t._v("#")]),t._v(" 浏览器面试题")]),t._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#进程和线程"}},[t._v("进程和线程")])]),a("li",[a("a",{attrs:{href:"#常用浏览器内核"}},[t._v("常用浏览器内核")])]),a("li",[a("a",{attrs:{href:"#从输入url到浏览器渲染出页面的过程"}},[t._v("从输入url到浏览器渲染出页面的过程")])]),a("li",[a("a",{attrs:{href:"#dns查询过程-怎么减少dns查询时间"}},[t._v("DNS查询过程？怎么减少DNS查询时间？")])]),a("li",[a("a",{attrs:{href:"#浏览器一帧做了什么"}},[t._v("浏览器一帧做了什么？")])]),a("li",[a("a",{attrs:{href:"#load-和domcontentloaded区别"}},[t._v("Load 和DOMContentLoaded区别")])]),a("li",[a("a",{attrs:{href:"#新建一个标签页浏览器做了什么"}},[t._v("新建一个标签页浏览器做了什么？")])]),a("li",[a("a",{attrs:{href:"#浏览器的缓存机制"}},[t._v("浏览器的缓存机制")])]),a("li",[a("a",{attrs:{href:"#service-worker"}},[t._v("Service Worker")])]),a("li",[a("a",{attrs:{href:"#浏览器渲染原理"}},[t._v("浏览器渲染原理")])]),a("li",[a("a",{attrs:{href:"#浏览器存储"}},[t._v("浏览器存储")])]),a("li",[a("a",{attrs:{href:"#存储api调用-实现一个getall"}},[t._v("存储API调用？实现一个getALL？")])]),a("li",[a("a",{attrs:{href:"#浏览器的并发链接限制"}},[t._v("浏览器的并发链接限制")])]),a("li",[a("a",{attrs:{href:"#bom的api"}},[t._v("BOM的API")])]),a("li",[a("a",{attrs:{href:"#浏览器事件机制"}},[t._v("浏览器事件机制")])]),a("li",[a("a",{attrs:{href:"#浏览器内多个标签页之间怎么通信"}},[t._v("浏览器内多个标签页之间怎么通信?")])]),a("li",[a("a",{attrs:{href:"#同源策略和跨域方案"}},[t._v("同源策略和跨域方案")])]),a("li",[a("a",{attrs:{href:"#什么是僵尸进程和孤儿进程"}},[t._v("什么是僵尸进程和孤儿进程")])]),a("li",[a("a",{attrs:{href:"#v8的垃圾回收机制"}},[t._v("V8的垃圾回收机制")])]),a("li",[a("a",{attrs:{href:"#内存泄露原因-解决方案"}},[t._v("内存泄露原因？解决方案？")])]),a("li",[a("a",{attrs:{href:"#安全防范"}},[t._v("安全防范")])])])]),a("p"),t._v(" "),a("h2",{attrs:{id:"进程和线程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#进程和线程"}},[t._v("#")]),t._v(" 进程和线程")]),t._v(" "),a("blockquote",[a("p",[t._v("一个工厂车间就是一个进程，里面的工人是线程。")])]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("进程和线程")]),a("blockquote",[a("p",[t._v("浏览器是多进程的，1.主进程 2.多个渲染进程。3. 网络进程 4.GPU进程 5. 多个插件进程 6.service worker")])]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("进程")]),t._v(" "),a("ul",[a("li",[t._v("一个进程就是一个程序的运行实例。\n启动一个程序的时候，操作系统会为该程序创建一块内存，用来存放代码、运行中的数据和一个执行任务的主线程，我们把这样的一个运行环境叫进程")])])]),t._v(" "),a("li",[a("strong",[t._v("线程")]),t._v(" "),a("ul",[a("li",[t._v("线程是cpu调度的最小单位")])])])])]),a("h2",{attrs:{id:"常用浏览器内核"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用浏览器内核"}},[t._v("#")]),t._v(" 常用浏览器内核")]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("THEOREM")]),a("ul",[a("li",[t._v("Chrome 浏览器内核：统称为 Chromium 内核或 Chrome 内核，以前是 Webkit 内核，现在是 Blink内核；(Mac下还是webkit)")]),t._v(" "),a("li",[t._v("Firefox 浏览器内核：Gecko 内核")]),t._v(" "),a("li",[t._v("Safari 浏览器内核：Webkit 内核")]),t._v(" "),a("li",[t._v("IE 浏览器内核：Trident 内核")])])]),a("h2",{attrs:{id:"从输入url到浏览器渲染出页面的过程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#从输入url到浏览器渲染出页面的过程"}},[t._v("#")]),t._v(" 从输入url到浏览器渲染出页面的过程")]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("THEOREM")]),a("ol",[a("li",[t._v("输入url，第一次访问无DNS缓存进行DNS查询根据域名获取IP地址")]),t._v(" "),a("li",[t._v("TCP三次握手建立链接 + TLS/SSL安全握手后请求服务器返回请求资源(浏览器会将请求资源拷贝一份做下次缓存文件)")]),t._v(" "),a("li",[t._v("浏览器解析资源处理HTML生成DOM树")]),t._v(" "),a("li",[t._v("处理CSS构建CSSOM树，如果遇到JS会中断DOM解析去下载JS并执行，可以给JS添加async/defer异步下载")]),t._v(" "),a("li",[t._v("DOM和CSSROM合并成Render Tree渲染树")]),t._v(" "),a("li",[t._v("浏览器根据Render Tree渲染树渲染页面")]),t._v(" "),a("li",[t._v("调用GPU绘制页面，合成图层显示在屏幕上")])])]),a("h2",{attrs:{id:"dns查询过程-怎么减少dns查询时间"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dns查询过程-怎么减少dns查询时间"}},[t._v("#")]),t._v(" DNS查询过程？怎么减少DNS查询时间？")]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("THEOREM")]),a("ul",[a("li",[t._v("浏览器DNS缓存")]),t._v(" "),a("li",[t._v("本地DNS缓存(hosts文件)")]),t._v(" "),a("li",[t._v("路由器DNS")]),t._v(" "),a("li",[t._v("运营商DNS")]),t._v(" "),a("li",[t._v("DNS服务器(本地域名服务器,根域名服务器,顶级服务器)")])]),t._v(" "),a("blockquote",[a("p",[t._v("DNS查找过程是递归查找，非常耗时间")])]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("DNS是基于UDP的")])]),t._v(" "),a("li",[a("strong",[t._v("尽可能利用DNS缓存")])]),t._v(" "),a("li",[a("strong",[t._v("开启DNS预解析")])])]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("dns-prefetch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("https://fonts.googleapis.com/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" \n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])]),a("h2",{attrs:{id:"浏览器一帧做了什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#浏览器一帧做了什么"}},[t._v("#")]),t._v(" 浏览器一帧做了什么？")]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("THEOREM")]),a("ol",[a("li",[t._v("接受输入事件")]),t._v(" "),a("li",[t._v("执行事件回调")]),t._v(" "),a("li",[t._v("开始一帧")]),t._v(" "),a("li",[t._v("执行 RAF (RequestAnimationFrame)")]),t._v(" "),a("li",[t._v("页面布局，样式计算")]),t._v(" "),a("li",[t._v("绘制渲染")]),t._v(" "),a("li",[t._v("执行 RIC (RequestIdelCallback)")])]),t._v(" "),a("blockquote",[a("p",[t._v("第七步的 RIC 事件不是每一帧结束都会执行，只有在一帧的 16.6ms 中做完了前面 6 件事儿且还有剩余时间，才会执行。如果一帧执行结束后还有时间执行 RIC 事件，那么下一帧需要在事件执行结束才能继续渲染，所以 RIC 执行不要超过 30ms，如果长时间不将控制权交还给浏览器，会影响下一帧的渲染，导致页面出现卡顿和事件响应不及时")])])]),a("h2",{attrs:{id:"load-和domcontentloaded区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#load-和domcontentloaded区别"}},[t._v("#")]),t._v(" Load 和DOMContentLoaded区别")]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("Load和DOMContentLoaded区别")]),a("ul",[a("li",[t._v("Load 事件触发代表⻚⾯中的 DOM，CSS，JS，图⽚已经全部加载完毕。")]),t._v(" "),a("li",[t._v("DOMContentLoaded 事件触发代表初始的 HTML 被完全加载和解析，不需要等待 CSS， JS，图⽚加载。")])])]),a("h2",{attrs:{id:"新建一个标签页浏览器做了什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#新建一个标签页浏览器做了什么"}},[t._v("#")]),t._v(" 新建一个标签页浏览器做了什么？")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("如果是同一个进程，一个标签页卡死整个浏览器卡死")]),t._v(" "),a("hr")]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("打开一个网页，最少需要四个进程")]),a("ul",[a("li",[a("strong",[t._v("1个网络进程、1 个浏览器进程、1 个 GPU 进程以及 1 个渲染进程")]),t._v("。")]),t._v(" "),a("li",[t._v("如果打开的页面有运行插件的话，还需要再加上 1 个插件进程。")])])]),a("h2",{attrs:{id:"浏览器的缓存机制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#浏览器的缓存机制"}},[t._v("#")]),t._v(" 浏览器的缓存机制")]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("缓存策略和缓存位置")]),a("ul",[a("li",[t._v("第一次请求，没有缓存，浏览器将服务器返回的资源拷贝一份作缓存")]),t._v(" "),a("li",[t._v("第二次请求，会先根据缓存文件的响应头的cache control判断是否能走强缓存，能则强缓存，返回状态码200")]),t._v(" "),a("li",[t._v("否则发起新的请求进入协商缓存，根据ETag和Last Modiify 判断，能则走缓存返回状态码304，否则返回资源")]),t._v(" "),a("li",[a("strong",[t._v("优先级")]),t._v(" "),a("ul",[a("li",[t._v("强缓存 > 协商缓存")]),t._v(" "),a("li",[t._v("强缓存: Cache Control > Expire")]),t._v(" "),a("li",[t._v("协商缓存: ETag > Last Modiify")])])])]),t._v(" "),a("blockquote",[a("p",[t._v("缓存位置和优先级")])]),t._v(" "),a("ul",[a("li",[t._v("Service Worker(需要HTTPS，浏览器的独立线程)")]),t._v(" "),a("li",[t._v("Memory Cache(内存)")]),t._v(" "),a("li",[t._v("Disk Cache(硬盘)")]),t._v(" "),a("li",[t._v("Push Cache(推送缓存)")]),t._v(" "),a("li",[t._v("重新发起请求")])])]),a("h2",{attrs:{id:"service-worker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#service-worker"}},[t._v("#")]),t._v(" Service Worker")]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("浏览器背后的独立线程")]),a("blockquote",[a("p",[t._v("Service Worker 是运行在浏览器背后的独立线程，可以用来实现缓存功能。Application -> Service Worker")])]),t._v(" "),a("ul",[a("li",[t._v("使用 Service Worker的话，传输协议必须为 HTTPS。因为 Service Worker 中涉及到请求拦截，所以必须使用 HTTPS 协议来保障安全。")]),t._v(" "),a("li",[t._v("Service Worker 实现缓存功能一般分为三个步骤：首先需要先注册 Service Worker，然后监听到 install 事件以后就可以缓存需要的文件，那么在下次用户访问的时候就可以通过拦截请求的方式查询是否存在缓存，存在缓存的话就可以直接读取缓存文件，否则就去请求数据")])])]),a("h2",{attrs:{id:"浏览器渲染原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#浏览器渲染原理"}},[t._v("#")]),t._v(" 浏览器渲染原理")]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("浏览器渲染原理")]),a("blockquote",[a("p",[t._v("阻塞渲染")])]),t._v(" "),a("ul",[a("li",[t._v("css放最上面，JS放最下面，CSS解析不阻塞，JS下载和解析执行都会阻塞。")]),t._v(" "),a("li",[t._v("script加上defer/asycn标签开启异步下载，defer下载完按顺序执行，async下载完立即执行")]),t._v(" "),a("li",[t._v("减少回流与重绘")])]),t._v(" "),a("blockquote",[a("p",[t._v("重绘和回流")])]),t._v(" "),a("ul",[a("li",[t._v("重绘是当节点需要更改外观而不会影响布局的。(如改变颜色)")]),t._v(" "),a("li",[t._v("回流是布局或者几何属性需要改变就称为回流。(改变元素大小)")])])]),a("h2",{attrs:{id:"浏览器存储"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#浏览器存储"}},[t._v("#")]),t._v(" 浏览器存储")]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("cookie, Session Storage ,local Storage ,indexDB (webSQL)")]),a("ul",[a("li",[t._v("大小，cookie不是设计为存储，而是解决http无状态，大小只有4K，而后二者有5M")]),t._v(" "),a("li",[t._v("生效时间: cookie不设置过期时间的话关闭标签页就清除，session storage也是，local storage是永久，需要手动清除")]),t._v(" "),a("li",[t._v("cookie会在客户端和服务端通信过程中来回携带，每次都会携带在 header 中")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("种类")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("cookie")]),t._v(" "),a("th",{staticStyle:{"text-align":"right"}},[t._v("session Storage")]),t._v(" "),a("th",{staticStyle:{"text-align":"right"}},[t._v("local Storage")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("indexDB")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("大小")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("4K")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("5M")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("5M")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("取决于您的硬盘大小")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("生效时间")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("默认关闭标签页就清除，也可以设置永久")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("关闭标签页就清除")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("永久，需要手动清除")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("其实就是个数据库")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("是否参与服务端通信")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("携带在 header 中")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("无")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("无")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("无")])])])])]),a("h2",{attrs:{id:"存储api调用-实现一个getall"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#存储api调用-实现一个getall"}},[t._v("#")]),t._v(" 存储API调用？实现一个getALL？")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("localStorage 和 sessionStorage 的"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("API")]),t._v("调用是一样的。\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("设置数据")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("获取数据")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("删除数据")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("清空数据")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clear")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5.")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("获取数据的长度")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6.")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("获取所有数据")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//自己实现")]),t._v("\n\nlocalStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("getAll")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" obj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br")])]),a("h2",{attrs:{id:"浏览器的并发链接限制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#浏览器的并发链接限制"}},[t._v("#")]),t._v(" 浏览器的并发链接限制")]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("浏览器同域名请求的最大并发数是有限制的")]),a("blockquote",[a("p",[t._v("chrome和火狐是"),a("strong",[t._v("6")]),t._v("个，IE是4个")])]),t._v(" "),a("ul",[a("li",[t._v("Chrome 最多允许对同一个 Host 建立六个 TCP 连接,只支持6个的话那么一次加载几十张图片的网页就有几十次http请求，怎么办呢？这种情况页面加载速度肯定是肉眼可见的慢的。")]),t._v(" "),a("li",[t._v("因此在优化页面加载速度时，会把一些资源放到不同的域名下，从而提高并发个数。")]),t._v(" "),a("li",[t._v("现在有了http 2.0多路复用后，这个变得没那么重要了")])])]),a("h2",{attrs:{id:"bom的api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bom的api"}},[t._v("#")]),t._v(" BOM的API")]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("BOM(Borwser Object Model)浏览器对象模型")]),a("blockquote",[a("p",[t._v("history")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("history"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("back")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//history中向后跳转")]),t._v("\nwindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("history"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forward")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//history中向前进")]),t._v("\nwindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("history"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("go")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//后退1")]),t._v("\nwindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("history"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("go")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//前进1")]),t._v("\nwindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("history"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("go")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//刷新")]),t._v("\nhistory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pushState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nhistory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("replaceState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])])]),a("h2",{attrs:{id:"浏览器事件机制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#浏览器事件机制"}},[t._v("#")]),t._v(" 浏览器事件机制")]),t._v(" "),a("p",[t._v("事件是用户操作网页时发生的交互动作，比如 click/move， 事件除了用户触发的动作外，还可以是文档加载，窗口滚动和大小调整。事件被封装成一个 event 对象，包含了该事件发生时的所有相关信息（ event 的属性）以及可以对事件进行的操作（ event 的方法）。")]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("事件是用户操作网页时发生的交互动作或者网页本身的一些操作，现代浏览器一共有三种事件模型：")]),a("ul",[a("li",[a("strong",[t._v("DOM0 级事件模型")]),t._v("，这种模型不会传播，所以没有事件流的概念，但是现在有的浏览器支持以冒泡的方式实现，它可以在网页中直接定义监听函数，也可以通过 js 属性来指定监听函数。所有浏览器都兼容这种方式。直接在dom对象上注册事件名称，就是DOM0写法。")]),t._v(" "),a("li",[a("strong",[t._v("IE 事件模型")]),t._v("，在该事件模型中，一次事件共有两个过程，事件处理阶段和事件冒泡阶段。事件处理阶段会首先执行目标元素绑定的监听事件。然后是事件冒泡阶段，冒泡指的是事件从目标元素冒泡到 document，依次检查经过的节点是否绑定了事件监听函数，如果有则执行。这种模型通过attachEvent 来添加监听函数，可以添加多个监听函数，会按顺序依次执行。")]),t._v(" "),a("li",[a("strong",[t._v("DOM2 级事件模型")]),t._v("，在该事件模型中，一次事件共有三个过程，第一个过程是事件捕获阶段。捕获指的是事件从 document 一直向下传播到目标元素，依次检查经过的节点是否绑定了事件监听函数，如果有则执行。后面两个阶段和 IE 事件模型的两个阶段相同。这种事件模型，事件绑定的函数是addEventListener，其中第三个参数可以指定事件是否在捕获阶段执行。")])])]),a("h2",{attrs:{id:"浏览器内多个标签页之间怎么通信"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#浏览器内多个标签页之间怎么通信"}},[t._v("#")]),t._v(" 浏览器内多个标签页之间怎么通信?")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("多个标签页之间的通信，本质上都是通过中介者模式来实现的。线程之间共享进程中的数据")]),t._v(" "),a("p",[t._v("因为标签页之间没有办法直接通信，因此我们可以找一个中介者，让标签页和中介者进行通信，然后让这个中介者来进行消息的转发。")])]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("THEOREM")]),a("ul",[a("li",[a("strong",[t._v("使用 websocket 协议")]),t._v("，因为 websocket 协议可以实现服务器推送，所以服务器就可以用来当做这个中介者。标签页通过向服务器发送数据，然后由服务器向其他标签页推送转发。")]),t._v(" "),a("li",[a("strong",[t._v("使用 ShareWorker 的方式")]),t._v("，shareWorker 会在页面存在的生命周期内创建一个唯一的线程，并且开启多个页面也只会使用同一个线程。这个时候共享线程就可以充当中介者的角色。标签页间通过共享一个线程，然后通过这个共享的线程来实现数据的交换。")]),t._v(" "),a("li",[a("strong",[t._v("使用 localStorage 的方式")]),t._v("，我们可以在一个标签页对 localStorage 的变化事件进行监听，然后当另一个标签页修改数据的时候，我们就可以通过这个监听事件来获取到数据。这个时候 localStorage 对象就是充当的中介者的角色。")]),t._v(" "),a("li",[a("strong",[t._v("使用 postMessage 方法")]),t._v("，如果我们能够获得对应标签页的引用，就可以使用postMessage 方法，进行通信。")])])]),a("h2",{attrs:{id:"同源策略和跨域方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#同源策略和跨域方案"}},[t._v("#")]),t._v(" 同源策略和跨域方案")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("同源策略")]),t._v(" "),a("ul",[a("li",[t._v("只存在于"),a("strong",[t._v("浏览器")])]),t._v(" "),a("li",[t._v("同源策略: "),a("strong",[t._v("端口、协议、域名")]),t._v("一致就是同源")])])]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("跨域方案")]),a("ol",[a("li",[t._v("jsonp")]),t._v(" "),a("li",[t._v("cors")]),t._v(" "),a("li",[t._v("node正向代理")]),t._v(" "),a("li",[t._v("nginx反向代理")]),t._v(" "),a("li",[t._v("iframe + window.name")]),t._v(" "),a("li",[t._v("iframe + postmessage")]),t._v(" "),a("li",[t._v("iframe + document.domain")]),t._v(" "),a("li",[t._v("iframe + location.hash")]),t._v(" "),a("li",[t._v("浏览器开启跨域")])])]),a("h2",{attrs:{id:"什么是僵尸进程和孤儿进程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是僵尸进程和孤儿进程"}},[t._v("#")]),t._v(" 什么是僵尸进程和孤儿进程")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("僵尸进程")]),t._v(" "),a("ul",[a("li",[t._v("子进程比父进程先结束，而父进程又没有释放子进程占用的资源，那么子进程的进程描述符仍然保存在系统中，这种进程称之为僵尸进程。")])])]),t._v(" "),a("li",[a("strong",[t._v("孤儿进程")]),t._v(" "),a("ul",[a("li",[t._v("父进程退出了，而它的一个或多个进程还在运行，那这些子进程都会成为孤儿进程。孤儿进程将被init进程(进程号为1)所收养，并由init进程对它们完成状态收集工作")])])])]),t._v(" "),a("h2",{attrs:{id:"v8的垃圾回收机制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#v8的垃圾回收机制"}},[t._v("#")]),t._v(" V8的垃圾回收机制")]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("垃圾回收-回收不再使用的变量内存空间")]),a("ul",[a("li",[t._v("标记清除算法")]),t._v(" "),a("li",[t._v("标记压缩算法")])])]),a("h2",{attrs:{id:"内存泄露原因-解决方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#内存泄露原因-解决方案"}},[t._v("#")]),t._v(" 内存泄露原因？解决方案？")]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("内存泄露，因为保持着对变量的引用，垃圾回收不会回收该内存空间，造成内存泄露，网页性能下降")]),a("ul",[a("li",[t._v("清除不必要的闭包、定时器、监听器的引用")]),t._v(" "),a("li",[t._v("Performance选项卡找到内存泄露的原因，将内存泄露的变量引用置为 null")]),t._v(" "),a("li",[t._v("使用未声明的变量，而意外的创建了一个全局变量，如直接声明 变量，不使用let const等关键词")])])]),a("h2",{attrs:{id:"安全防范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安全防范"}},[t._v("#")]),t._v(" 安全防范")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("XSS(跨站脚本攻击)")]),t._v(" "),a("p",[t._v("攻击者通过在网站注入恶意脚本，使之在用户的浏览器上运行，从而盗取用户的信息如 cookie 等")])]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("XSS 可以分为存储型、反射型和 DOM 型")]),a("blockquote",[a("p",[t._v("XSS攻击原理")])]),t._v(" "),a("p",[t._v("比如一个输入框，或者提交表单，正常来说用户输入的是自己的信息，但是攻击者可以输入"),a("code",[t._v("<script>恶意代码<\/script>")]),t._v(",从而执行恶意脚本，对网站进行攻击。")]),t._v(" "),a("blockquote",[a("p",[t._v("XSS防御")])]),t._v(" "),a("ol",[a("li",[t._v("需要插入到 HTML 中的代码做好充分的转义,对"),a("code",[t._v("<>")]),t._v(" 等"),a("strong",[t._v("特殊字符进行转义")]),t._v("，富文本编辑器的话使用"),a("strong",[t._v("白名单过滤")])]),t._v(" "),a("li",[a("strong",[t._v("开启CSP(内容安全策略)")]),t._v("，\n"),a("ol",[a("li",[t._v("具体设置 HTTP 首部中的"),a("code",[t._v("Content-Security-Policy")]),t._v("，")]),t._v(" "),a("li",[t._v("一种是设置 meta 标签的方式 "),a("code",[t._v('<meta http-equiv="Content-Security-Policy">')])])])]),t._v(" "),a("li",[t._v("cookie 使用 "),a("strong",[t._v("http-only")]),t._v("，使得js脚本无法获取。也可以设置 "),a("strong",[t._v("cookie作用域")]),t._v(" , 仅在当前域名生效")]),t._v(" "),a("li",[t._v("关键信息使用 "),a("strong",[t._v("验证码")]),t._v(" 验证")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("CSP")]),t._v(" "),a("p",[t._v("Content Secure Policy(内容安全策略)")])]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("开启CSP")]),a("ol",[a("li",[t._v("具体设置 HTTP 首部中的"),a("code",[t._v("Content-Security-Policy")]),t._v("，")]),t._v(" "),a("li",[t._v("一种是设置 meta 标签的方式 "),a("code",[t._v('<meta http-equiv="Content-Security-Policy">')])])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("CSRF (Cross Site Request Forgery)")]),t._v(" "),a("hr")]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("就是用户登录了网站A，然后访问不安全网站B，B就可以拿到用户信息在网站A进行操作")]),a("blockquote",[a("p",[t._v("CSRF攻击原理")])]),t._v(" "),a("p",[a("strong",[t._v("跨站请求伪造攻击,攻击者诱导用户进入一个第三方网站，然后该网站向被攻击网站发送跨站请求。如果用户在被攻击网站中保存了登录状态，那么攻击者就可以利用这个登录状态，绕过后台的用户验证，冒充用户向服务器执行一些操作。")])]),t._v(" "),a("blockquote",[a("p",[t._v("CSRF防御")])]),t._v(" "),a("ol",[a("li",[a("strong",[t._v("进行同源检测")]),t._v("，服务器根据 http 请求头中 origin 或者 referer 信息来判断请求是否为允许访问的站点，从而对请求进行过滤。当 origin 或者 referer 信息都不存在的时候，直接阻止请求。")]),t._v(" "),a("li",[a("strong",[t._v("设置 cookie 的 Samesite 属性")]),t._v(" ，限制 cookie 不能作为被第三方网站使用")]),t._v(" "),a("li",[a("strong",[t._v("Token 验证")]),t._v("，服务器向用户返回一个随机数 Token ，当网站再次发起请求时，在请求参数中加入服务器端返回的 token ，然后服务器对这个 token 进行验证。")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("SQL注入")]),t._v(" "),a("hr")]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("SQL注入就是拼接sql语句 查询数据库")]),a("blockquote",[a("p",[t._v("SQL注入攻击原理")])]),t._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 看一条简单的sql语句")]),t._v("\nString "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("sql")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"select * from user_table where username=\n\' "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" userName "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("\" ' and password=' \"")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" password"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('" \'"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("--当输入了上面的用户名和密码，上面的SQL语句变成：")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" user_table "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WHERE")]),t._v(" username "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'’or 1 = 1 -- and password='")]),t._v("’\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("p",[t._v("条件后面username=”or 1=1 用户名等于 ” 或1=1 那么这个条件一定会成功，"),a("strong",[t._v("数据库数据泄露或者数据被篡改")]),t._v("；")]),t._v(" "),a("blockquote",[a("p",[t._v("SQL注入防御")])]),t._v(" "),a("ul",[a("li",[t._v("特殊符号过滤或转义处理")]),t._v(" "),a("li",[t._v("使用预编译语句")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("HTTPS")]),t._v(" "),a("hr")]),t._v(" "),a("div",{staticClass:"theorem"},[a("p",{staticClass:"title"},[t._v("HTTP是明文传输，无法加密传输信息，无法验证通信双方身份")]),a("p",[t._v("HTTPS在计算机网络篇章写了")])])])}),[],!1,null,null,null);s.default=r.exports}}]);