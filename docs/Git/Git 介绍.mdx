---
sidebar_position: 1
---

# Git ä»‹ç»

**gitæ˜¯ä¸€ä¸ªå¼€æºå…è´¹çš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œç”±Linuxä¹‹çˆ¶Linus Torvaldsç”¨Cè¯­è¨€åœ¨èŠ±è´¹ä¸€å‘¨æ—¶é—´ç¼–å†™çš„ä¸€æ¬¾åº”ç”¨ã€‚**

:::info Gitçš„ç‰¹ç‚¹

- å¼€æºã€å…è´¹ã€‚å¼€æº-æºä»£ç å…¬å¼€ï¼Œä½ å¯ä»¥è‡ªå·±ä¿®æ”¹ã€‚å…è´¹-ä¸ç”¨æ‹…å¿ƒæ”¶è´¹ï¼Œæ”¾å¿ƒç”¨ã€‚æ­£å› å¦‚æ­¤ï¼Œgitæ˜¯ç°åœ¨æœ€æµè¡Œçš„ç‰ˆæœ¬æ§åˆ¶è½¯ä»¶ï¼Œæ˜¯æ¯ä¸€ä½å¼€å‘è€…å¿…é¡»æŒæ¡çš„æŠ€èƒ½ã€‚
- åˆ†å¸ƒå¼çš„æ„æ€å°±æ˜¯æ²¡æœ‰æœåŠ¡ç«¯è·Ÿå®¢æˆ·ç«¯ä¹‹åˆ†ï¼Œåªè¦ä½ å®‰è£…äº†gitï¼Œé‚£ä¹ˆä½ å°±å¯ä»¥æ‹‰å–å…¶ä»–äººçš„ä»“åº“ä»£ç ï¼ŒåŒæ ·åœ°åˆ«äººä¹Ÿå¯ä»¥æ‹‰å–ä½ çš„ä»£ç ã€‚Githubæ˜¯å…¨çƒæœ€å¤§çš„åŸºäºGitçš„ä»£ç æ‰˜ç®¡ç½‘ç«™ã€‚
- ç‰ˆæœ¬æ§åˆ¶çš„æ„æ€å°±æ˜¯å¯ä»¥æ§åˆ¶ä¸åŒçš„ç‰ˆæœ¬å‘å¸ƒï¼Œå› ä¸ºå®é™…é¡¹ç›®éƒ½æ˜¯å¤šäººååŒå¼€å‘ï¼Œæœ‰äº†gitå°±å¯ä»¥å„è‡ªå¼€å‘ï¼Œæœ€ååˆå¹¶å¹¶ä¸”æ§åˆ¶å‘å¸ƒç‰ˆæœ¬ï¼Œæå‡äº†å¼€å‘é€Ÿç‡ã€‚
- ç³»ç»Ÿï¼Œgitæ˜¯ä¸€ä¸ªå®Œæ•´çš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œå…¶ä¸­æœ€æ ¸å¿ƒçš„æ˜¯åˆ†æ”¯ï¼Œä½¿ç”¨åˆ†æ”¯æ„å‘³ç€ä½ å¯ä»¥æŠŠä½ çš„å·¥ä½œä»å¼€å‘ä¸»çº¿ä¸Šåˆ†ç¦»å¼€æ¥,ä»¥å…å½±å“å¼€å‘ä¸»çº¿ï¼ŒåŒæ—¶åŸºäºä¸åŒçš„åˆ†æ”¯å¯ä»¥æ§åˆ¶ä¸åŒçš„ç‰ˆæœ¬è¿­ä»£ï¼Œæ–¹ä¾¿ç‰ˆæœ¬å›æ»šç­‰

:::


## å­¦ä¹ Git
è¿™ä¸ªç½‘ç«™ä»åŸºç¡€çš„git æ“ä½œåˆ°é«˜é˜¶æ“ä½œå››ä¸ªé˜¶æ®µå…¨é¢è¦†ç›–ï¼Œç›¸æ¯”çœ‹è§†é¢‘æ–‡æ¡£ï¼Œå¯è§†åŒ–åŠ¨ç”»çš„æ“ä½œæ›´åŠ ç›´è§‚ã€‚
> [learngitbranching](https://learngitbranching.js.org/?locale=zh_CN)

å»–é›ªå³°ï¼Œå»–ç¥çš„Gitæ•™ç¨‹ï¼Œæµ…æ˜¾æ˜“æ‡‚ï¼Œå¸¦å›¾æ–‡å¸¦ç»ƒä¹ éå¸¸é€‚åˆå…¥é—¨ï¼Œå½“å¹´å°ç™½çš„æˆ‘ä¹Ÿæ˜¯çœ‹å»–ç¥çš„åšå®¢è¿‡æ¥æ»´
> [å»–ç¥çš„Gitæ•™ç¨‹](https://www.liaoxuefeng.com/wiki/896043488029600)


## Gité…ç½®

### Git config

```bash
git config --global user.name â€˜ç”¨æˆ·åâ€™  #é…ç½®ç”¨æˆ·å
git config --global user.email â€˜ä½ çš„é‚®ç®±â€™ #é…ç½®é‚®ç®±
git config --list    #åˆ—å‡ºé…ç½®é¡¹
ssh-keygen -t rsa -C "ä½ çš„é‚®ç®±"  #å¤åˆ¶id_rsa_pub é‡Œé¢çš„å…¬é’¥åˆ°githubä¸Š

#å±•ç¤ºæ‰€æœ‰ alias å’Œ configs
git config --local --list #(å½“å‰ç›®å½•)
git config --global --list #(å…¨å±€)

```

### Git Alias(åˆ«å)

> é…ç½®Git å‘½ä»¤åˆ«å, å‡å°‘é‡å¤æ€§å·¥ä½œ

```bash
alias gc='git clone'
alias gs='git status'
alias gd='git diff'
alias ga='git add .'
alias gcm='git commit -m'
alias gb='git branch'
alias gba='git branch -a'
alias gp='git pull'
alias gpu='git push'
alias gl='git log'
```

## Git commitè§„èŒƒ

> Commit

- feat - A new feature
- fix -A bug fix
- docs - Documentation only changes
- style - Changes that do not affect the meaning of the code (white-space, formatting, missing semi-colons, etc)
- refactor - A code change that neither fixes a bug nor adds a feature Type of change
- chore - Other changes that don't modify src or test files
- test - Adding missing tests or correcting existing tests
- perf - A code change that improves performance
- build - Changes that affect the build system or external dependencies (example scopes: gulp, broccoli,npm)
- ci - Changes to our Cl configuration files and scripts (example scopes: Travis, Circle,BrowserStack, SauceLabs)
- revert - Reverts a previous commit


## å¸¸ç”¨å‘½ä»¤

### æŸ¥çœ‹ä»“åº“çŠ¶æ€
```bash
git status
```

### æŸ¥çœ‹æ—¥å¿—
```bash
git log                            # æŸ¥çœ‹æ—¥å¿—
git log -p                         # æŸ¥çœ‹è¯¦ç»†å†å²
git log --stat                     # æŸ¥çœ‹ç®€è¦ç»Ÿè®¡
git log --oneline --graph 		   # æŸ¥çœ‹ç®€å•å†å² æ˜¾ç¤ºæ ‘

git reflog                         # æŸ¥çœ‹æ“ä½œè®°å½•
```

### å…‹éš†ä»“åº“
```bash
git clone ä»“åº“åœ°å€
# å…‹éš†æ—¶å€™è¦æ³¨æ„ å…‹éš†çš„ åˆ†æ”¯ æ˜¯å¦ æ˜¯ä½ æƒ³è¦çš„~
```
### åˆ›å»ºåˆ†æ”¯å¹¶åˆ‡æ¢
```bash
# åˆ›å»ºåˆ†æ”¯å¹¶åˆ‡æ¢
git checkout -b åˆ†æ”¯åç§°

# åˆ›å»ºåˆ†æ”¯
git branch åˆ†æ”¯åç§°

# åˆ‡æ¢åˆ†æ”¯
git checkout åˆ†æ”¯åç§°

# å› ä¸ºgit checkout æ—¢æœ‰æ’¤é”€æ–‡ä»¶ åˆæœ‰åˆ›å»ºæ–‡ä»¶ç­‰åŠŸèƒ½, æ¨èä½¿ç”¨ git switchåˆ‡æ¢åˆ†æ”¯
git switch åˆ‡æ¢åˆ†æ”¯
```

### åˆ é™¤æŸæ¡åˆ†æ”¯

```bash
git branch -d åˆ†æ”¯åç§°           # åˆ é™¤è¯¥åˆ†æ”¯ï¼ˆä¸èƒ½åˆ é™¤å½“å‰æ‰€åœ¨çš„åˆ†æ”¯ï¼Œä¸èƒ½åˆ é™¤æ²¡æœ‰åˆå¹¶åˆ°masterä¸Šçš„åˆ†æ”¯ï¼‰
git branch -D åˆ†æ”¯åç§°           # åˆ é™¤è¯¥åˆ†æ”¯ï¼ˆå¯ä»¥åˆ é™¤æ²¡æœ‰åˆå¹¶åˆ°masterä¸Šçš„åˆ†æ”¯ï¼‰
git push -d origin branchName   # åˆ é™¤è¿œç¨‹åˆ†æ”¯
```

### æäº¤å¹¶æ¨é€
```bash
git commit -m 'æ³¨é‡Šä¿¡æ¯'
git push 'æœ¬åœ°åˆ†æ”¯'  'è¿œç¨‹åˆ†æ”¯'
```

### æ’¤é”€å·²ç»addçš„æ–‡ä»¶
```bash
git reset HEAD <è·¯å¾„/æ–‡ä»¶å> # å›é€€æš‚å­˜åŒºé‡Œçš„æ–‡ä»¶
```

### æ’¤é”€å·²ç»commitçš„æ–‡ä»¶
```bash
git reset --hard HEAD^   # ä¸¢å¼ƒæœ€æ–°æäº¤ï¼ˆæœªæäº¤çš„å†…å®¹ä¼šè¢«æ“¦æ‰ï¼‰
git reset --soft HEAD^   # ä¸¢å¼ƒæœ€æ–°æäº¤ï¼ˆæœªæäº¤çš„å†…å®¹ä¸ä¼šè¢«æ“¦æ‰ï¼‰
```

### ä¿®æ”¹commitæ³¨é‡Šä¿¡æ¯
```bash
git commit --amend        #å¯¹æœ€æ–°çš„ä¸€æ¡commitè¿›è¡Œä¿®æ­£
```

### æš‚å­˜ä»£ç (åŠ éœ€æ±‚å¸¸ç”¨)
```bash
git stash           # æš‚å­˜ä»£ç (ç›´æ¥ä¿å­˜å½“å‰ä¿®æ”¹çš„æ–‡ä»¶ä»£ç )
git stash list      # æŸ¥çœ‹æš‚å­˜ä»£ç åˆ—è¡¨
git stash apply     # å‘½ä»¤æ—¶å¯ä»¥é€šè¿‡åå­—æŒ‡å®šä½¿ç”¨å“ªä¸ªstashï¼Œé»˜è®¤ä½¿ç”¨æœ€è¿‘çš„stashï¼ˆå³stash@{0}ï¼‰
git stash pop       # å¼¹å‡ºæš‚å­˜ä»£ç ï¼ˆå‡ºæ ˆï¼Œåˆ é™¤listçš„è¿™è¡Œè®°å½•ï¼‰
git stash drop      # åˆ é™¤æŒ‡å®šçš„stashè®°å½•
```

### æŸ¥çœ‹æŸæ®µä»£ç è°å†™çš„
> blameçš„æ„æ€æ˜¯ 'è´£æ€ª' , ä½¿ç”¨è¿™æ¡å‘½ä»¤çš„èƒŒåå«ä¹‰ä½ æ‡‚çš„ğŸ˜

```bash
git blame <file-name>
```

### gitæŸ¥çœ‹æŸä¸ªæ–‡ä»¶çš„ä¿®æ”¹å†å²
```bash
git show 'æ¯æ¬¡æäº¤äº§ç”Ÿçš„å“ˆå¸Œå€¼'
```

### æäº¤Pull Request
1. å…ˆforkæºä»“åº“
2. ä¿®æ”¹ä»£ç 
3. åˆ›å»ºæ–°çš„åˆ†æ”¯
4. æäº¤ä»£ç åˆ°æ–°åˆ†æ”¯
5. æ‹‰å–ä¸€ä¸‹æœ€æ–°ä»£ç 
6. åˆ°æºä»“åº“å‘èµ·pr
7. ç­‰å¾…merge


### åˆå¹¶åˆ†æ”¯
```bash
git merge 'åˆ†æ”¯åç§°'          #  å°†åˆ†æ”¯åˆå¹¶åˆ°å½“å‰åˆ†æ”¯
```

### é‡æ–°è®¾ç½®åŸºå‡†ç‚¹
```bash
git rebase ç›®æ ‡åŸºç¡€ç‚¹                     é‡æ–°è®¾ç½®åŸºç¡€ç‚¹
git pull --rebase 			ä»è¿œç¨‹ä»“åº“æ‹‰å»ä»£ç å¹¶é‡æ–°è®¾ç½®åŸºç¡€ç‚¹
```

### è§£å†³å†²çª
å†²çªè¯´æ˜ æœ‰2äººä»¥ä¸Šä¿®æ”¹äº†åŒä¸€ä¸ªæ–‡ä»¶, gitä¸çŸ¥é“è¯¥ä¿ç•™å“ªä¸€ä¸ªäººä¿®æ”¹çš„ä»£ç 
> é‡åˆ°å†²çªéœ€è¦æ‰‹åŠ¨ä¿®æ”¹ , æ‰‹åŠ¨ä¿®æ”¹å†²çªçš„æ–‡ä»¶

```bash
git fetch    # æ‹‰å–è¿œç«¯ä»£ç ,ä½†ä¸merge
git merge    # git pull  =  git fetch + git merge
```


## monorepo
[Monorepo æ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆå¤§å®¶éƒ½åœ¨ç”¨ï¼Ÿ](https://zhuanlan.zhihu.com/p/77577415)

## submodule

[Gitä¸­submoduleçš„ä½¿ç”¨](https://zhuanlan.zhihu.com/p/87053283)
