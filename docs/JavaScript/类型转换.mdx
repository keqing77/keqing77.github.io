---
sidebar_position: 3
---

# ç±»å‹è½¬æ¢

## ç±»å‹è½¬æ¢è§„åˆ™

### åŸºæœ¬ç±»å‹è½¬æ¢
`é¦–å…ˆç±»å‹è½¬æ¢åªæœ‰3ç§ç±»å‹çš„è½¬æ¢ï¼ŒğŸ‘‡ğŸ»ä¸‰ç§ç±»å‹ä¹Ÿè¢«ç§°ä½œä¸ºåŒ…è£…ç±»å‹`

- 1.è½¬æ¢ä¸ºå­—ç¬¦ä¸²`string`
- 2.è½¬æ¢ä¸ºæ•°å­—`number`
- 3.è½¬æ¢ä¸ºå¸ƒå°”å€¼`boolean`

### å¼•ç”¨ç±»å‹å’ŒåŸå§‹ç±»å‹è½¬æ¢
:::danger åŸå§‹ç±»å‹å’Œå¼•ç”¨ç±»å‹åšæ¯”è¾ƒæ—¶ï¼Œå¼•ç”¨ç±»å‹ä¼šä¾ç…§`ToPrimitive`è§„åˆ™è½¬æ¢ä¸ºåŸå§‹ç±»å‹ã€‚
`â­ï¸ToPrimitiveè§„åˆ™ï¼Œæ˜¯å¼•ç”¨ç±»å‹å‘åŸå§‹ç±»å‹è½¬å˜çš„è§„åˆ™ï¼Œå®ƒéµå¾ªå…ˆvalueOfåtoStringçš„æ¨¡å¼æœŸæœ›å¾—åˆ°ä¸€ä¸ªåŸå§‹ç±»å‹ã€‚
å¦‚æœè¿˜æ˜¯æ²¡æ³•å¾—åˆ°ä¸€ä¸ªåŸå§‹ç±»å‹ï¼Œå°±ä¼šæŠ›å‡º TypeErrorã€‚`

:::

```js
'[object Object]' == {}
// true, å¯¹è±¡å’Œå­—ç¬¦ä¸²æ¯”è¾ƒï¼Œå¯¹è±¡é€šè¿‡ toString å¾—åˆ°ä¸€ä¸ªåŸºæœ¬ç±»å‹å€¼
'1,2,3' == [1, 2, 3]
// true, åŒä¸Š  [1, 2, 3]é€šè¿‡ toString å¾—åˆ°ä¸€ä¸ªåŸºæœ¬ç±»å‹å€¼
```


## éšå¼ç±»å‹è½¬æ¢

### ==

:::info `å¯¹äº==æ¥è¯´ï¼Œåˆ¤æ–­ç›¸ç­‰ä¼šç»è¿‡ä»¥ä¸‹æ­¥éª¤`
1. ä¸¤è€…ç±»å‹æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰åˆ™æ¯”è¾ƒå€¼çš„å¤§å°
1. ç±»å‹ä¸ç›¸ç­‰ï¼Œåˆ™è¿›è¡Œç±»å‹è½¬æ¢
1. åˆ¤æ–­ç±»å‹æ˜¯å¦æ˜¯ null å’Œ undefinedï¼Œæ˜¯çš„è¯å°±ä¼šè¿”å› true
1. åˆ¤æ–­ä¸¤è€…ç±»å‹æ˜¯å¦ä¸º string å’Œ numberï¼Œæ˜¯çš„è¯å°±ä¼šå°†å­—ç¬¦ä¸²è½¬æ¢ä¸º number
1. åˆ¤æ–­å…¶ä¸­ä¸€æ–¹æ˜¯å¦ä¸º booleanï¼Œæ˜¯çš„è¯å°±ä¼šæŠŠ boolean è½¬ä¸º number å†è¿›è¡Œåˆ¤æ–­
1. åˆ¤æ–­å…¶ä¸­ä¸€æ–¹æ˜¯å¦ä¸º object ä¸”å¦ä¸€æ–¹ä¸º stringã€number æˆ–è€… symbolï¼Œæ˜¯çš„è¯å°±ä¼šæŠŠ object è½¬ä¸ºåŸå§‹ç±»å‹å†è¿›è¡Œåˆ¤æ–­
:::

### == å’Œ ===

- `åŒç­‰å·`ä¼šè¿›è¡Œéšå¼ç±»å‹è½¬æ¢, `ä¸‰ç­‰`åˆ™ä¸ä¼š
- ==åªæ¯”è¾ƒå€¼çš„ç›¸ç­‰ï¼Œ===ä¼šæ¯”è¾ƒå€¼å’Œç±»å‹çš„ç›¸ç­‰ï¼Œ
- å½“ä¸¤è¾¹ç±»å‹ç›¸ç­‰çš„æ—¶å€™ï¼Œ==å’Œ===çš„ç»“æœæ˜¯ä¸€æ ·çš„

###  === & Object.js()

`äºŒè€…åŒºåˆ«åªæœ‰åˆ¤æ–­NaNå’Œå¸¦ç¬¦å·çš„0ï¼Œå…¶ä»–ç»“æœéƒ½æ˜¯ä¸€æ ·çš„`

```js
NaN === NaN // false
+0 === -0 // true
-0 === +0 // true

Object.is(NaN, NaN) // true
Object.is(+0, -0) // false
Object.is(-0, +0) // false
```


### é€»è¾‘å’Œç®—æœ¯è¿ç®— (!! && ||,+ - * / > <)

#### ç‰¹æ®Šçš„åŠ æ³•
â­ï¸ä¸ºä»€ä¹ˆåŠ æ³•è¦åŒºåˆ«å¯¹å¾…ï¼Ÿå› ä¸ºJSé‡Œ +è¿˜å¯ä»¥ç”¨æ¥æ‹¼æ¥å­—ç¬¦ä¸²ã€‚è°¨è®°ä»¥ä¸‹3æ¡ï¼š

1. å½“ä¸€ä¾§ä¸ºStringç±»å‹ï¼Œè¢«è¯†åˆ«ä¸ºå­—ç¬¦ä¸²æ‹¼æ¥ï¼Œå¹¶ä¼šä¼˜å…ˆå°†å¦ä¸€ä¾§è½¬æ¢ä¸ºå­—ç¬¦ä¸²ç±»å‹ã€‚
1. å½“ä¸€ä¾§ä¸ºNumberç±»å‹ï¼Œå¦ä¸€ä¾§ä¸ºåŸå§‹ç±»å‹ï¼Œåˆ™å°†åŸå§‹ç±»å‹è½¬æ¢ä¸ºNumberç±»å‹ã€‚
1. å½“ä¸€ä¾§ä¸ºNumberç±»å‹ï¼Œå¦ä¸€ä¾§ä¸ºå¼•ç”¨ç±»å‹ï¼Œå°†å¼•ç”¨ç±»å‹å’ŒNumberç±»å‹è½¬æ¢æˆå­—ç¬¦ä¸²åæ‹¼æ¥ã€‚

```js
123 + '123' // 123123   ï¼ˆè§„åˆ™1ï¼‰
123 + null  // 123    ï¼ˆè§„åˆ™2ï¼‰
123 + true // 124    ï¼ˆè§„åˆ™2ï¼‰
123 + {}  // 123[object Object]    ï¼ˆè§„åˆ™3ï¼‰
```

### å‡,ä¹˜,é™¤
```js
1 - true // 0ï¼Œ é¦–å…ˆæŠŠ true è½¬æ¢ä¸ºæ•°å­— 1ï¼Œ ç„¶åæ‰§è¡Œ 1 - 1
1 - null // 1,  é¦–å…ˆæŠŠ null è½¬æ¢ä¸ºæ•°å­— 0ï¼Œ ç„¶åæ‰§è¡Œ 1 - 0
1 * undefined //  NaN, undefined è½¬æ¢ä¸ºæ•°å­—æ˜¯ NaN
2 * ['5'] //  10ï¼Œ ['5']é¦–å…ˆä¼šå˜æˆ '5', ç„¶åå†å˜æˆæ•°å­— 5
```

### é€»è¾‘è¯­å¥ä¸­çš„ç±»å‹è½¬æ¢

> å½“æˆ‘ä»¬ä½¿ç”¨ if while for è¯­å¥æ—¶ï¼Œæˆ‘ä»¬æœŸæœ›è¡¨è¾¾å¼æ˜¯ä¸€ä¸ªBooleanï¼Œæ‰€ä»¥ä¸€å®šä¼´éšç€éšå¼ç±»å‹è½¬æ¢ã€‚è€Œè¿™é‡Œé¢åˆåˆ†ä¸ºä¸¤ç§æƒ…å†µ

#### falsy (å€¼ä¸ºå‡çš„)
â­ï¸å¦‚æœåªæœ‰å•ä¸ªå˜é‡ï¼Œä¼šå…ˆå°†å˜é‡è½¬æ¢ä¸ºBooleanå€¼
- åªæœ‰ `null`,`undefined`,`''`,`NaN`,`0`,`false` è¿™å‡ ä¸ªæ˜¯ falseï¼Œå…¶ä»–çš„æƒ…å†µéƒ½æ˜¯ trueï¼Œæ¯”å¦‚ `{}` ,` []`ã€‚


## å¼ºåˆ¶ç±»å‹è½¬æ¢

### `number <=> string`
```js {1,5}
number è½¬ å­—ç¬¦ä¸²
String(x)         // å°†å˜é‡ x è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶è¿”å›
String(123)       // å°†æ•°å­— 123 è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶è¿”å›
String(100 + 23)  // å°†æ•°å­—è¡¨è¾¾å¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶è¿”å›
å­—ç¬¦ä¸² è½¬ number
x.toString()
(123).toString()
(100 + 23).toString()
Number.parseInt('123')
```
### `string <=> boolean`
```js {1,5}
boolean è½¬ å­—ç¬¦ä¸²
String(false)        // è¿”å› "false"
String(true)         // è¿”å› "true"

å­—ç¬¦ä¸² è½¬ boolean
false.toString()     // è¿”å› "false"
true.toString()      // è¿”å› "true"
```
### `boolean <=> number`

```js
Number(false)     // è¿”å› 0
Number(true)      // è¿”å› 1
```

## ç±»å‹è½¬æ¢è¡¨

![](https://lanhaooss.oss-cn-shenzhen.aliyuncs.com/images/convert-table.png)

## å­—ç¬¦ä¸²æ¯”è¾ƒ

:::warning å­—ç¬¦ä¸²çš„æ¯”è¾ƒæ˜¯æ¯”è¾ƒASCIIç ï¼Œè€Œä¸æ˜¯å­—ç¬¦ä¸²çš„å†…å®¹
>é€ä½è¿›è¡Œæ¯”è¾ƒï¼Œç›¸ç­‰åˆ™æ¯”è¾ƒä¸‹ä¸€ä½

- å…¶ä¸­æ•°å­—0~9å¯¹åº”çš„ASCIIç (åè¿›åˆ¶)æ˜¯48~57
- å¤§å†™å­—æ¯A~Zå¯¹åº”çš„ASCIIç (åè¿›åˆ¶)æ˜¯65~90
- å°å†™å­—æ¯a~zå¯¹åº”çš„ASCIIç (åè¿›åˆ¶)æ˜¯97~122
:::

```js
null == 0 // false

null > 0 // false

null < 0 // false

null >= 0 // true

null <= 0 // true

[undefined] == false // true

undefined == false // false

[] == ![] // true

[] == [] // false

{} == {} // false

{} == !{} // false

[] == 0 // true

[2] == 2 // true

['0'] == false // true

'0' == false // true

[] == false // true

[null] == 0 // true
```

### ç»å…¸é¢è¯•é¢˜

å¦‚ä½•è®©ï¼ša == 1 && a == 2 && a == 3

---
valueOf()æ˜¯éšè—çš„æ–¹æ³•ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨ï¼Œæˆ‘ä»¬å¯ä»¥æ”¹å†™å®ƒï¼š
```js
const a = {
   value:[3,2,1],
   valueOf: function () {return this.value.pop(); },
}
```

:::info æˆæœæ£€éªŒ
- [] == ![]
- '2' > '10'
- '2' > '34'
- NaN === NaN
- '1' == true
- '2' == true
- !![]
:::

<details>
  <summary>ç­”æ¡ˆ</summary>
  <div>
    true
    true
    false
    false
    true
    false
    true
  </div>
</details>