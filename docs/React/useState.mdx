---
sidebar_position: 5
---

# useState


:::tip useStateä½¿ç”¨æ–¹æ³•
`const [state, setState] = useState(initialState)`
1. å‘ä¸€ä¸ªç»„ä»¶æ·»åŠ çŠ¶æ€
1. åŸºäºä¹‹å‰çš„çŠ¶æ€æ¥æ›´æ–°çŠ¶æ€
1. æ›´æ–°çŠ¶æ€ä¸­çš„å¯¹è±¡å’Œæ•°ç»„
1. é¿å…é‡æ–°åˆ›å»ºåˆå§‹çŠ¶æ€
1. ç”¨ä¸€ä¸ªé”®é‡è®¾çŠ¶æ€
1. å­˜å‚¨å…ˆå‰æ¸²æŸ“çš„ä¿¡æ¯
:::



```jsx {4,7}
import { useState } from 'react';

export default function Counter() {
  const [count, setCount] = useState(0);

  function handleClick() {
    setCount(count + 1);
  }

  return (
    <button onClick={handleClick}>
      You pressed me {count} times
    </button>
  );
}
```

:::warning
- ç›´æ¥ä¿®æ”¹æ•°æ®ï¼Œæ•°æ®çš„å€¼ä¼šæ”¹å˜ï¼Œä½†æ˜¯ä¸ä¼šè§¦å‘è§†å›¾æ›´æ–°ã€‚è¿™ä¸Reactçš„å“åº”å¼å·¥ä½œåŸç†æœ‰å…³
- æˆ‘ä»¬ä½¿ç”¨setState()æ¥æ›´æ–°çŠ¶æ€ï¼Œè¿™ä¼šè§¦å‘è§†å›¾æ›´æ–°(é‡æ–°æ¸²æŸ“ç»„ä»¶)ã€‚
- ç»„ä»¶æ¯ä¸€åˆ›å»ºéƒ½æœ‰è‡ªå·±çš„çŠ¶æ€, çŠ¶æ€ä¸€æ—¦å‘ç°æ”¹å˜å°±æ„å‘³ç»„ä»¶é‡æ–°æ¸²æŸ“, æ¯ä¸ªçŠ¶æ€éƒ½æœ‰è‡ªå·±çš„`å¿«ç…§`
- ä¹Ÿå°±æ˜¯æ•°ç»„ç¬¬äºŒé¡¹ï¼Œæ–¹æ³•åå¯ä»¥æ˜¯åˆ«çš„ï¼Œä½†æœ€å¥½æ˜¯setXXX()å½¢å¼ï¼
:::


## stateæ˜¯ä¸å¯å˜çš„(immutable)
> ä½ å¯ä»¥æŠŠå¯¹è±¡å’Œæ•°ç»„æ”¾å…¥çŠ¶æ€ã€‚åœ¨Reactä¸­ï¼ŒçŠ¶æ€è¢«è®¤ä¸ºæ˜¯åªè¯»çš„ï¼Œæ‰€ä»¥ä½ åº”è¯¥æ›¿æ¢å®ƒè€Œä¸æ˜¯çªå˜ä½ ç°æœ‰çš„å¯¹è±¡

```jsx
// ğŸš© Don't mutate an object in state like this:
form.firstName = 'Taylor';

// âœ… Replace state with a new object
setForm({
  ...form,
  firstName: 'Taylor'
});
```

## å—æ§ç»„ä»¶å’Œéå—æ§ç»„ä»¶ (åªå­˜åœ¨äºè¡¨å•å…ƒç´ )

### å—æ§ç»„ä»¶
> å—æ§ç»„ä»¶å°±æ˜¯è¡¨å•å…ƒç´ çš„valueé€šè¿‡state(useState)æ¥å®šä¹‰


### éå—æ§ç»„ä»¶
> éå—æ§ç»„ä»¶å°±æ˜¯è¡¨å•å…ƒç´ çš„valueæ— æ³•é€šè¿‡stateè·å–ï¼Œåªèƒ½ä½¿ç”¨ref(useRef)æ¥è·å–
