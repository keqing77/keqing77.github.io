---
sidebar_position: 9
---

# useRef


:::info useRefçš„ä½œç”¨è®©ä½ å¼•ç”¨ä¸€ä¸ªä¸éœ€è¦æ¸²æŸ“çš„å€¼ã€‚(æ¯”å¦‚ç»‘å®šé¡µé¢çš„DOMçš„å…ƒç´ å€¼)
- è¿”å›ä¸€ä¸ªå¯å˜çš„ ref å¯¹è±¡ï¼Œè¯¥å¯¹è±¡åªæœ‰ä¸ª current å±æ€§ï¼Œåˆå§‹å€¼ä¸ºä¼ å…¥çš„å‚æ•°( initialValue )ã€‚
- è¿”å›çš„ ref å¯¹è±¡åœ¨ç»„ä»¶çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…ä¿æŒä¸å˜
- å½“æ›´æ–° current å€¼æ—¶å¹¶ä¸ä¼šé‡æ–°æ¸²æŸ“ç»„ä»¶(re-render) ï¼Œè¿™æ˜¯ä¸ useState ä¸åŒçš„åœ°æ–¹
- æ›´æ–° useRef æ˜¯ side effect (å‰¯ä½œç”¨)ï¼Œæ‰€ä»¥ä¸€èˆ¬å†™åœ¨ useEffect æˆ– event handler é‡Œ
- useRef ç±»ä¼¼äºç±»ç»„ä»¶çš„ this
:::

## ä½¿ç”¨
1. ç”¨refå¼•ç”¨ä¸€ä¸ªå€¼
1. ç”¨ä¸€ä¸ªå¼•ç”¨æ¥æ“ä½œDOM
1. é¿å…é‡æ–°åˆ›å»ºå¼•ç”¨çš„å†…å®¹

```jsx
import { useRef } from 'react';

export default function Counter() {
  let ref = useRef(0);

  function handleClick() {
    ref.current = ref.current + 1;
    alert('You clicked ' + ref.current + ' times!');
  }

  return (
    <button onClick={handleClick}>
      Click me!
    </button>
  );
}
```

## æ³¨æ„äº‹é¡¹

:::warning

```jsx
function MyComponent() {
  // ...
  // ğŸš© Don't write a ref during rendering
  myRef.current = 123;
  // ...
  // ğŸš© Don't read a ref during rendering
  return <h1>{myOtherRef.current}</h1>;
}
```
You can read or write refs from event handlers or effects instead.
```jsx
function MyComponent() {
  // ...
  useEffect(() => {
    // âœ… You can read or write refs in effects
    myRef.current = 123;
  });
  // ...
  function handleClick() {
    // âœ… You can read or write refs in event handlers
    doSomething(myOtherRef.current);
  }
  // ...
}
```
:::